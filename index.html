<!DOCTYPE html>  
    <html>  
    <head>  
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />  
    <meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
    <title>制空计算器,v2017-05-29 19:20:32,etwahl4</title>  
    <style type="text/css">
    html{font-size:80%}
	body{font-size:1em} 
	input{font-size:1em} 
	input[type=checkbox] {vertical-align:middle; margin-top:0;
}
	</style>
    </head>  

<body>

<input type="button" onclick="dataLoad();" value="Load" />
　　　　　　<input type="button" onclick="dataSave();" value="Save" />
<br>
飞机放飞数
<br>
<input id="x11" type="number" style="width:4em" value="" name="xx" />
<input id="x12" type="number" style="width:4em" value="" name="xx" />
<input id="x13" type="number" style="width:4em" value="" name="xx" />
<input id="x14" type="number" style="width:4em" value="" name="xx" />
<label id="x1">蒹葭苍苍</label>
<br>
<input id="x21" type="number" style="width:4em" value="" name="xx" />
<input id="x22" type="number" style="width:4em" value="" name="xx" />
<input id="x23" type="number" style="width:4em" value="" name="xx" />
<input id="x24" type="number" style="width:4em" value="" name="xx" />
<label id="x1">白露为霜</label>
<br>
<input id="x31" type="number" style="width:4em" value="" name="xx" />
<input id="x32" type="number" style="width:4em" value="" name="xx" />
<input id="x33" type="number" style="width:4em" value="" name="xx" />
<input id="x34" type="number" style="width:4em" value="" name="xx" />
<label id="x1">所谓伊人</label>
<br>
<input id="x41" type="number" style="width:4em" value="" name="xx" />
<input id="x42" type="number" style="width:4em" value="" name="xx" />
<input id="x43" type="number" style="width:4em" value="" name="xx" />
<input id="x44" type="number" style="width:4em" value="" name="xx" />
<label id="x1">在水一方</label>
<br>
<input id="x51" type="number" style="width:4em" value="" name="xx" />
<input id="x52" type="number" style="width:4em" value="" name="xx" />
<input id="x53" type="number" style="width:4em" value="" name="xx" />
<input id="x54" type="number" style="width:4em" value="" name="xx" />
<label id="x1">溯洄从之</label>
<br>
<input id="x61" type="number" style="width:4em" value="" name="xx" />
<input id="x62" type="number" style="width:4em" value="" name="xx" />
<input id="x63" type="number" style="width:4em" value="" name="xx" />
<input id="x64" type="number" style="width:4em" value="" name="xx" />
<label id="x1">道阻且长</label>
<br>
飞机对空
<br>
<input id="y11" type="number" style="width:4em" value="" name="yy" />
<input id="y12" type="number" style="width:4em" value="" name="yy" />
<input id="y13" type="number" style="width:4em" value="" name="yy" />
<input id="y14" type="number" style="width:4em" value="" name="yy" />
<br>
<input id="y21" type="number" style="width:4em" value="" name="yy" />
<input id="y22" type="number" style="width:4em" value="" name="yy" />
<input id="y23" type="number" style="width:4em" value="" name="yy" />
<input id="y24" type="number" style="width:4em" value="" name="yy" />
<br>
<input id="y31" type="number" style="width:4em" value="" name="yy" />
<input id="y32" type="number" style="width:4em" value="" name="yy" />
<input id="y33" type="number" style="width:4em" value="" name="yy" />
<input id="y34" type="number" style="width:4em" value="" name="yy" />
<br>
<input id="y41" type="number" style="width:4em" value="" name="yy" />
<input id="y42" type="number" style="width:4em" value="" name="yy" />
<input id="y43" type="number" style="width:4em" value="" name="yy" />
<input id="y44" type="number" style="width:4em" value="" name="yy" />
<br>
<input id="y51" type="number" style="width:4em" value="" name="yy" />
<input id="y52" type="number" style="width:4em" value="" name="yy" />
<input id="y53" type="number" style="width:4em" value="" name="yy" />
<input id="y54" type="number" style="width:4em" value="" name="yy" />
<br>
<input id="y61" type="number" style="width:4em" value="" name="yy" />
<input id="y62" type="number" style="width:4em" value="" name="yy" />
<input id="y63" type="number" style="width:4em" value="" name="yy" />
<input id="y64" type="number" style="width:4em" value="" name="yy" />
<br>
<!--
<input type="button" onclick="butClick();" value="aaa" />
<input type="button" onclick="butClick2();" value="bbb" />
-->
<input type="button" onclick="apCalc();" value="计算制空值" />
　　　　　
<label><input id="opt1" type="checkbox" value="op1" onClick=""　/> 标么值开关</label>
<br>
制空<lable id="opxx1"></lable>值: <lable id="z1" name="z1"></lable>
<!--<br>
制空标么值: <lable id="z2" name="z2"></lable>-->
<br>
<input id="z01" type="number" style="width:4em" value="" name="zz0" />
<input id="z02" type="number" style="width:4em" value="" name="zz0" />
<input id="z03" type="number" style="width:4em" value="" name="zz0" />
<input id="z04" type="number" style="width:4em" value="" name="zz0" />
敌舰制空
<br>
<input id="zy01" type="number" style="width:4em" value="" name="zz" />
<input id="zy02" type="number" style="width:4em" value="" name="zz" />
<input id="zy03" type="number" style="width:4em" value="" name="zz" />
<input id="zy04" type="number" style="width:4em" value="" name="zz" />
空优所需
<br>
<input id="zz01" type="number" style="width:4em" value="" name="zz" />
<input id="zz02" type="number" style="width:4em" value="" name="zz" />
<input id="zz03" type="number" style="width:4em" value="" name="zz" />
<input id="zz04" type="number" style="width:4em" value="" name="zz" />
空占所需


<lable id="vz01"></lable><lable id="vz02"></lable><lable id="vz03"></lable><lable id="vz04"></lable>

<p></p>

航向计算
<br>
我方旗舰<input id="sp10" type="number" style="width:4em" value="" name="sp" step="0.1"/>
我方舰队<input id="sp1x" type="number" style="width:4em" value="" name="sp" step="0.1"/>
<br>
敌方旗舰<input id="sp20" type="number" style="width:4em" value="" name="sp" step="0.1"/>
敌方舰队<input id="sp2x" type="number" style="width:4em" value="" name="sp" step="0.1"/>
<br>
<input type="button" onclick="spCalc();" value="计算航向" id="sss"/>
<br>
索敌失败: 优<lable id="d01"></lable>同<lable id="d02"></lable>反<lable id="d03"></lable>劣<lable id="d04"></lable>
<br>
索敌成功: 优<lable id="d11"></lable>同<lable id="d12"></lable>反<lable id="d13"></lable>劣<lable id="d14"></lable>
<br>

<!--
<form action="" method="get" name="form1">
您喜欢的水果？<br /><br />
<label><input name="Fruit" type="checkbox" value="1" onClick="show_amnt();"  />苹果 10元</label>
<label><input name="Fruit" type="checkbox" value="2"  onClick="show_amnt();"  />桃子5元 </label>
<label><input name="Fruit" type="checkbox" value="3"  onClick="show_amnt();"  />香蕉6元 </label>
<label><input name="Fruit" type="checkbox" value="4"  onClick="show_amnt();"  />梨 3元</label>
合计金额：<input type=text name="amnt" value="0" readonly>
</form>
-->

<script type="text/javascript">


/*
if (localStorage.pagecount)
  {
  localStorage.pagecount=Number(localStorage.pagecount) +1;
  }
else
  {
  localStorage.pagecount=1;
  }
document.write("Visits "+ localStorage.pagecount + " time(s).");
*/

function opt1() {

    if(document.getElementById("opt1").checked) 
    {
        flag =1;
        op1=Math.log(24);
        document.getElementById("opxx1").innerText = "标么";
    }
    else
    {
        op1 = 1;
        document.getElementById("opxx1").innerText = "";    
    }

	// body...
}


function dataClear(){}


function dataLoad(){
var a = document.getElementsByName("xx");
var b = JSON.parse(localStorage.savexx);
for(var i = 0; i < a.length; i++) a[i].value = b[i];
a = document.getElementsByName("yy");
b = JSON.parse(localStorage.saveyy);
for(var i = 0; i < a.length; i++) a[i].value = b[i];
a = document.getElementsByName("sp");
b = JSON.parse(localStorage.savesp);
for(var i = 0; i < a.length; i++) a[i].value = b[i];
a = document.getElementsByName("zz0");
b = JSON.parse(localStorage.savezz0);
for(var i = 0; i < a.length; i++) a[i].value = b[i];
}


function dataSave()
{
//            var strValue = document.getElementById("x11").value;
//          localStorage.setItem("strKey", strValue);  
var a = document.getElementsByName("xx");
var b = new Array();
for(var i = 0; i < a.length; i++)	b[i] = a[i].value;
localStorage.savexx = JSON.stringify(b);
a = document.getElementsByName("yy");
b.length=a.length;
for(var i = 0; i < a.length; i++)	b[i] = a[i].value;
localStorage.saveyy = JSON.stringify(b);
a = document.getElementsByName("sp");
b.length=a.length;
for(var i = 0; i < a.length; i++)	b[i] = a[i].value;
localStorage.savesp = JSON.stringify(b);
a = document.getElementsByName("zz0");
b.length=a.length;
for(var i = 0; i < a.length; i++)	b[i] = a[i].value;
localStorage.savezz0 = JSON.stringify(b);
}


//		var a = document.getElementsByName("xx");
//	    var str = JSON.stringify(Number(a[1].value));   
  //      localStorage.setItem("options",str);  

/* 
function show_amnt(){
    var s=0,i;
    for (i=0;i<form1.Fruit.length;i++)
        if (form1.Fruit[i].checked) s+=parseInt(form1.Fruit[i].value);
    form1.amnt.value=s;
}
*/


/*
function butClick(){
    var a = document.getElementsByName("xx");
    var z = 0;
    for(var i=0;i<a.length;i++){
        z=z+Number(a[i].value);
        alert(z);
    }

}

function butClick2(){
    var a = document.getElementsByName("yy");
    var z = 0;
    for(var i=0;i<a.length;i++){
        z=z+Number(a[i].value);
        alert(z);
    }

}
*/

function apCalc(){
    var a = document.getElementsByName("xx");
    var b = document.getElementsByName("yy");
    var z = 0;
    var op1 = 1;
    var flag = 0;
    if(document.getElementById("opt1").checked) 
    {
    	flag =1;
    	op1=Math.log(24);
    	document.getElementById("opxx1").innerText = "标么";
    }
    else
    {
    	op1 = 1;
    	document.getElementById("opxx1").innerText = "";	
    }

    for(var i=0;i<a.length;i++){
        if(Number(a[i].value)>0) z+=Math.log((Number(a[i].value)+1)*2)*Number(b[i].value);
    }
//        alert(z);
    var z2=z/Math.log(24)
    var zo=z/op1;
    document.getElementById("z1").innerText = zo.toFixed(2);  
//    document.getElementById("z2").innerText = z2;  

//		else document.getElementById("opxx1").innerText = "";

	var z01 = document.getElementById("z01").value;
	var z02 = document.getElementById("z02").value;
	var z03 = document.getElementById("z03").value;
	var z04 = document.getElementById("z04").value;

    var zy01=z01*1.5/op1;
    document.getElementById("zy01").value = zy01.toFixed(2);
    if((z>z01*1.5)) document.getElementById("zy01").style.backgroundColor="#A9D08E"; 
    else document.getElementById("zy01").style.backgroundColor="white";
    var zy02=z02*1.5/op1;
    document.getElementById("zy02").value = zy02.toFixed(2);
    if((z>z02*1.5)) document.getElementById("zy02").style.backgroundColor="#A9D08E"; 
    else document.getElementById("zy02").style.backgroundColor="white";
    var zy03=z03*1.5/op1;
    document.getElementById("zy03").value = zy03.toFixed(2);
    if((z>z03*1.5)) document.getElementById("zy03").style.backgroundColor="#A9D08E"; 
    else document.getElementById("zy03").style.backgroundColor="white";
    var zy04=z04*1.5/op1;
    document.getElementById("zy04").value = zy04.toFixed(2);
    if((z>z04*1.5)) document.getElementById("zy04").style.backgroundColor="#A9D08E"; 
    else document.getElementById("zy04").style.backgroundColor="white";
    var zz01=z01*3/op1;
    document.getElementById("zz01").value = zz01.toFixed(2);
    if((z>z01*3)) document.getElementById("zz01").style.backgroundColor="#A9D08E"; 
    else document.getElementById("zz01").style.backgroundColor="white";
    var zz02=z02*3/op1;
    document.getElementById("zz02").value = zz02.toFixed(2);
    if((z>z02*3)) document.getElementById("zz02").style.backgroundColor="#A9D08E"; 
    else document.getElementById("zz02").style.backgroundColor="white";
    var zz03=z03*3/op1;
    document.getElementById("zz03").value = zz03.toFixed(2);
    if((z>z03*3)) document.getElementById("zz03").style.backgroundColor="#A9D08E"; 
    else document.getElementById("zz03").style.backgroundColor="white";
    var zz04=z04*3/op1;
    document.getElementById("zz04").value = zz04.toFixed(2);
    if((z>z04*3)) document.getElementById("zz04").style.backgroundColor="#A9D08E"; 
    else document.getElementById("zz04").style.backgroundColor="white";



}


function spCalc(){
	var s10 = document.getElementById("sp10").value;
	var s1x = document.getElementById("sp1x").value;
	var s20 = document.getElementById("sp20").value;
	var s2x = document.getElementById("sp2x").value;
	var d01 = Math.max(0,10+Math.min(s10-s20,s1x-s2x));
	var d02 = Math.max(0,30+(s1x-s2x));
	var d03 = Math.max(0,30-(s10-s20));
	var d04 = Math.max(0,15-(s1x-s2x));
	var d0 = d01+d02+d03+d04;
	var d11 = Math.max(0,20+Math.min(s10-s20,s1x-s2x));
	var d12 = Math.max(0,35+(s1x-s2x));
	var d13 = Math.max(0,25-(s10-s20));
	var d14 = Math.max(0,5-(s1x-s2x));
	var d1 = d11+d12+d13+d14;
	var d01a= d01/d0*100;
	var d02a= d02/d0*100;
	var d03a= d03/d0*100;
	var d04a= d04/d0*100;
	var d11a= d11/d1*100;
	var d12a= d12/d1*100;
	var d13a= d13/d1*100;
	var d14a= d14/d1*100;
	document.getElementById("d01").innerText = d01a.toFixed(1);  
	document.getElementById("d02").innerText = d02a.toFixed(1);
	document.getElementById("d03").innerText = d03a.toFixed(1);
	document.getElementById("d04").innerText = d04a.toFixed(1);
	document.getElementById("d11").innerText = d11a.toFixed(1);
	document.getElementById("d12").innerText = d12a.toFixed(1);
	document.getElementById("d13").innerText = d13a.toFixed(1);
	document.getElementById("d14").innerText = d14a.toFixed(1);
//	document.getElementById("sss").value = d14a.toFixed(1);
}






</script>
</body>